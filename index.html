<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>首頁</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 響應式 -->

    <!--   external style sheets, bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
  
    <!--  首頁css放這裡 -->
  <link rel="stylesheet" type="text/css" href="./index.css">
  <link rel="stylesheet" type="text/css" href="./aside.css"> 
  <link rel="stylesheet" type="text/css" href="./mainpage/ai.css"> 
  <link rel="stylesheet" type="text/css" href="./mainpage/mainpage.css"> 

  <!--   自訂js 尚未建立 -->
  <script src="./mainpage/ai.js"></script>   <!--   處理ai助手 -->
  <script src="./mainpage/mainpage_login.js"></script>  <!--   處理登錄介面 -->

</head>
<body>

<div class="main_container">

    <div id="sidebar-container"></div>

    <!-- 使用js呼叫sidebar -->
    <script>
        fetch("./aside.html")
            .then(response => response.text())
            .then(data => {
            document.getElementById("sidebar-container").innerHTML = data;
            });
    </script>

    <div id="db_container" class="content_container w-100">

        <section id="login_section" class="border-bottom py-4 px-3">
            <div class="container-fluid">
                <h3><i class="bi bi-shield-lock"></i> Synology 身份驗證</h3>

                 <!-- 登錄表格 -->
                <form id="loginForm" class="row g-3">
                    <div class="col-md-7">
                        <label class="form-label">Cookie String</label>
                        <textarea name="cookie_str" id="cookie_str" class="form-control" rows="1" placeholder="貼上 Cookie..." required></textarea>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Token</label>
                        <input type="text" name="token" id="token" class="form-control" placeholder="Token" required />
                    </div>
                    <div class="col-md-2 d-flex align-items-end">
                        <button type="submit" class="btn btn-success w-100">驗證連線</button>
                    </div>
                </form>
                <div class="result" id="result"></div>
            </div>
        </section>

        <hr class="m-0">

        <section id="ai_section" class="py-4 px-3">

        <div class="chat-container">

            <h2>AI 回憶摘要小幫手</h2>

            <!-- 聊天訊息框 -->
            <div id="chatbox" class="chatbox"></div>

            <!-- 輸入區 -->
            <div class="input-row">
                <input id="prompt" type="text" class="form-control" placeholder="例如：請幫我找 2025 年 1 月在高雄的回憶摘要…">
                <button id="send" class="btn btn-primary">送出</button>
            </div>

        </div>
        </section>


    </div>
</div>

</body>